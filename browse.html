<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Browse available bikes and scooters for rent in Vadodara">
    <title>Browse Vehicles - Xpresso</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/pages.css">
</head>

<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <span class="logo-icon">üèçÔ∏è</span>
                    <span class="logo-text">Xpresso</span>
                </a>

                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="browse.html" class="nav-link active">Browse</a></li>
                    <li><a href="dashboard.html" class="nav-link">My Rentals</a></li>`n                    <li><a href="policies.html" class="nav-link">Policies</a></li>
                </ul>

                <div class="nav-actions">
                    <a href="list-vehicle.html" class="btn btn-secondary">List Your Vehicle</a>
                    <a href="login.html" class="btn btn-primary">Login</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="browse-page">
        <div class="container">
            <h1>Browse Vehicles</h1>
            <p class="text-light mb-4">Find the perfect ride for your needs</p>

            <div class="browse-layout">
                <!-- Filter Sidebar -->
                <aside class="filter-sidebar">
                    <h3>Filters</h3>

                    <div class="filter-group">
                        <label class="filter-label">Location</label>
                        <input type="text" id="location-filter" class="form-input" placeholder="Search location...">
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Vehicle Type</label>
                        <div class="filter-options">
                            <label class="filter-option">
                                <input type="checkbox" name="type" value="Scooty" checked>
                                <span>Scooty</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" name="type" value="Bike" checked>
                                <span>Bike</span>
                            </label>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Gear Type</label>
                        <div class="filter-options">
                            <label class="filter-option">
                                <input type="checkbox" name="gear" value="Automatic" checked>
                                <span>Automatic</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" name="gear" value="Manual" checked>
                                <span>Manual</span>
                            </label>
                        </div>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Brand</label>
                        <select id="brand-filter" class="form-select">
                            <option value="">All Brands</option>
                            <option value="Honda">Honda</option>
                            <option value="TVS">TVS</option>
                            <option value="Suzuki">Suzuki</option>
                            <option value="Bajaj">Bajaj</option>
                            <option value="Royal Enfield">Royal Enfield</option>
                            <option value="Hero">Hero</option>
                            <option value="Yamaha">Yamaha</option>
                            <option value="KTM">KTM</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label class="filter-label">Price Range (per hour)</label>
                        <div class="price-range">
                            <input type="number" id="min-price" class="form-input" placeholder="Min" value="0">
                            <span>-</span>
                            <input type="number" id="max-price" class="form-input" placeholder="Max" value="100">
                        </div>
                    </div>

                    <button class="btn btn-secondary btn-block" onclick="clearFilters()">Clear Filters</button>
                </aside>

                <!-- Vehicles Grid -->
                <div class="vehicles-section">
                    <div class="vehicles-header">
                        <p id="results-count">Showing 6 vehicles</p>
                    </div>

                    <div class="vehicles-grid" id="vehicles-grid">
                        <!-- Vehicles will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Xpresso</h3>
                    <p>Affordable vehicle rentals for students in Vadodara</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="browse.html">Browse Vehicles</a></li>
                        <li><a href="list-vehicle.html">List Your Vehicle</a></li>
                        <li><a href="policies.html">Policies</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul class="footer-links">
                        <li><a href="policies.html">Terms & Conditions</a></li>
                        <li><a href="policies.html">Privacy Policy</a></li>
                        <li><a href="mailto:support@Xpresso.com">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Xpresso. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/data.js"></script>
    <script>
        // Load and display vehicles
        let allVehicles = MockData.vehicles;
        let filteredVehicles = [...allVehicles];

        function renderVehicles() {
            const grid = document.getElementById('vehicles-grid');
            const count = document.getElementById('results-count');

            if (filteredVehicles.length === 0) {
                grid.innerHTML = '<div class="text-center" style="grid-column: 1/-1; padding: 60px 20px;"><h3>No vehicles found</h3><p class="text-light">Try adjusting your filters</p></div>';
                count.textContent = 'No vehicles found';
                return;
            }

            grid.innerHTML = filteredVehicles.map(vehicle => `
                <div class="vehicle-card">
                    <img src="${vehicle.images[0]}" alt="${vehicle.name}" class="vehicle-image">
                    <div class="vehicle-info">
                        <div class="vehicle-header">
                            <h3 class="vehicle-name">${vehicle.name}</h3>
                            <span class="badge badge-primary">${vehicle.type}</span>
                        </div>
                        <p class="text-small text-light">üìç ${vehicle.location} ‚Ä¢ ${vehicle.distance}</p>
                        <p class="text-small"><strong>‚≠ê ${vehicle.rating}</strong> rating</p>
                        <div class="vehicle-pricing">
                            <div>
                                <span class="vehicle-price">‚Çπ${vehicle.pricePerHour}</span>
                                <span class="vehicle-price-unit">/hr</span>
                            </div>
                            <a href="vehicle-details.html?id=${vehicle.id}" class="btn btn-primary btn-sm">View Details</a>
                        </div>
                    </div>
                </div>
            `).join('');

            count.textContent = `Showing ${filteredVehicles.length} vehicle${filteredVehicles.length !== 1 ? 's' : ''}`;
        }

        function applyFilters() {
            const location = document.getElementById('location-filter').value.toLowerCase();
            const types = Array.from(document.querySelectorAll('input[name="type"]:checked')).map(cb => cb.value);
            const gears = Array.from(document.querySelectorAll('input[name="gear"]:checked')).map(cb => cb.value);
            const brand = document.getElementById('brand-filter').value;
            const minPrice = parseInt(document.getElementById('min-price').value) || 0;
            const maxPrice = parseInt(document.getElementById('max-price').value) || 999999;

            filteredVehicles = allVehicles.filter(vehicle => {
                const matchesLocation = !location || vehicle.location.toLowerCase().includes(location);
                const matchesType = types.includes(vehicle.type);
                const matchesGear = gears.includes(vehicle.gearType);
                const matchesBrand = !brand || vehicle.brand === brand;
                const matchesPrice = vehicle.pricePerHour >= minPrice && vehicle.pricePerHour <= maxPrice;

                return matchesLocation && matchesType && matchesGear && matchesBrand && matchesPrice;
            });

            renderVehicles();
        }

        function clearFilters() {
            document.getElementById('location-filter').value = '';
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = true);
            document.getElementById('brand-filter').value = '';
            document.getElementById('min-price').value = '0';
            document.getElementById('max-price').value = '100';
            applyFilters();
        }

        // Add event listeners
        document.getElementById('location-filter').addEventListener('input', applyFilters);
        document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
            cb.addEventListener('change', applyFilters);
        });
        document.getElementById('brand-filter').addEventListener('change', applyFilters);
        document.getElementById('min-price').addEventListener('input', applyFilters);
        document.getElementById('max-price').addEventListener('input', applyFilters);

        // Header scroll effect
        window.addEventListener('scroll', function () {
            const header = document.getElementById('header');
            if (window.scrollY > 10) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Initial render
        renderVehicles();
    </script>
</body>

</html>
